<!doctype html>{% load sekizai_tags compress i18n front_tags static %}
{% load url from future %}
<html lang="en" itemscope itemtype="http://schema.org/Article">
<head>
  <meta charset="utf-8" />
  <meta name="author" content="" />
  <meta name="description" content="" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0, minimum-scale=0.75, maximum-scale=1.66" />
  <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">

  {# Twitter #}
  <meta name="twitter:card" content="">
  <meta name="twitter:url" content="http://">
  <meta name="twitter:title" content="">
  <meta name="twitter:description" content="">
  <meta name="twitter:image" content="https://cruncher.ch/static/images/logo_512x512.png"> {# Must be at least 120x120 #}
  <meta name="twitter:site" content="@cruncher">
  <meta name="twitter:creator" content="@cruncher">

  {# OpenGraph #}
  <meta property="og:url" content="http://"/>
  <meta property="og:title" content=""/>
  <meta property="og:description" content="" />
  <meta property="og:image" content="https://cruncher.ch/static/images/logo_512x512.png"/> {# Ideal size for fb: 1200x630 #}
  <meta property="og:site_name" content="Cruncher"/>
  <meta property="og:type" content="blog"/>

  {% comment %}
  Google+
  Google reads schema.org metadata. That's what itemscope
  and itemtype attributes on html are doing, too.
  {% endcomment %}
  <meta itemprop="name" content="">
  <meta itemprop="description" content="">
  <meta itemprop="image" content="http://cruncher.ch/static/images/logo_512x512.png">
  <link rel="author" href="https://plus.google.com/[YOUR PERSONAL G+ PROFILE HERE]"/>

  {% block extra_head_meta %}{% endblock extra_head_meta %}

  <title>{% block headtitle %}{% endblock headtitle %}</title>

  {% if LANGUAGE_CODE != "en" %}<link rel="alternate" hreflang="en" href="http://cruncher.ch/en/" />{% endif %}
  {% if LANGUAGE_CODE != "fr" %}<link rel="alternate" hreflang="fr" href="http://cruncher.ch/fr/" />{% endif %}

  <link rel="icon" type="image/png" href="{% static "images/favicon.png" %}" />
  <link rel="apple-touch-icon" href="{% static "images/apple-touch-icon.png" %}" />

  <script>
    document.documentElement.className = 'js loading';
    window.cms_config = {
      mediaURL: '{{ CMS_MEDIA_URL }}',
      trans: {}
    };
    window.WebFontConfig = {
      google: {
        families: []
      }
    };
  </script>

  {# Make IE recognise HTML5 elements for styling #}
  <!--[if lte IE 8]>
  <script src="http://html5shiv.googlecode.com/svn/trunk/html5.js"></script>
  <noscript>
    <strong>Warning!</strong>
    Your creaking old browser does not support HTML5 so some elements on this page are simulated using JScript.
    Your browser has JScript disabled. Please enable it in order to properly display this page. Alternatively,
    download a modern browser: FireFox, Chrome or Opera. It's free!
  </noscript>
  <![endif]-->

  {% compress css %}
  <link rel="stylesheet" href="{{STATIC_URL}}bolt/css/bolt.normalise.css" />
  <link rel="stylesheet" href="{{STATIC_URL}}bolt/css/bolt.typography.css" />
  <link rel="stylesheet" href="{{STATIC_URL}}bolt/css/bolt.typography.16_20.css" />
  <link rel="stylesheet" href="{{STATIC_URL}}bolt/css/bolt.forms.css" />
  <link rel="stylesheet" href="{{STATIC_URL}}bolt/css/bolt.classes.css" />
  <link rel="stylesheet" href="{{STATIC_URL}}css/site.css" />
  <link rel="stylesheet" href="{{STATIC_URL}}css/site.type.css" />
  <link rel="stylesheet" href="{{STATIC_URL}}css/site.forms.css" />
  <link rel="stylesheet" href="{{STATIC_URL}}css/site.classes.css" />
  {% endcompress %}

  <!--[if lte IE 8]><link rel="stylesheet" href="css/bolt.ie.css" /><![endif]-->
  <!--[if IE 8]><link rel="stylesheet" href="css/bolt.ie8.css" /><![endif]-->

  {% render_block "css" %}
  {% block extrahead %}{% endblock %}
</head>

<body>
  {% include "includes/site-header.html" %}
  {% block body %}{% endblock body %}
  {% include "includes/site-nav.html" %}
  {% include "includes/site-footer.html" %}

  <script>
    // Function.prototype.bind is the ES5 feature with by far the worst support. Use it
    // to roughly detect ES5. http://kangax.github.com/es5-compat-table/
    !Function.prototype.bind && document.write(unescape('%3Cscript src="{{STATIC_URL}}bolt/res/es5-shim/es5-shim.min.js"%3E%3C/script%3E'));
  </script>

  <!--[if (gt IE 8)|!(IE)]><!-->
    <script src="{{STATIC_URL}}bolt/js/jquery.js"></script>
  <!--<![endif]-->
  <!--[if lte IE 8]>
    <script defer="defer" src="js/jquery-1.9.1.js"></script>
  <![endif]-->

  {% compress js %}
  <script defer="defer" src="{{STATIC_URL}}bolt/js/jquery.prefix.js"></script>
  <script defer="defer" src="{{STATIC_URL}}bolt/js/jquery.render.js"></script>
  <script defer="defer" src="{{STATIC_URL}}bolt/js/jquery.event.tap.js"></script>
  <script defer="defer" src="{{STATIC_URL}}bolt/js/jquery.event.move.js"></script>
  <script defer="defer" src="{{STATIC_URL}}bolt/js/jquery.event.swipe.js"></script>
  <script defer="defer" src="{{STATIC_URL}}bolt/js/jquery.event.activate.js"></script>
  <script defer="defer" src="{{STATIC_URL}}bolt/js/jquery.dialog.js"></script>
  <script defer="defer" src="{{STATIC_URL}}bolt/js/jquery.loading.js"></script>
  <script defer="defer" src="{{STATIC_URL}}bolt/js/jquery.scrollto.js"></script>
  <script defer="defer" src="{{STATIC_URL}}bolt/js/jquery.validate.js"></script>
  <script defer="defer" src="{{STATIC_URL}}bolt/js/jquery.transition.js"></script>

  <script defer="defer" src="{{STATIC_URL}}bolt/js/bolt.js"></script>
  <script defer="defer" src="{{STATIC_URL}}bolt/js/bolt.a.js"></script>
  <script defer="defer" src="{{STATIC_URL}}bolt/js/bolt.tip.js"></script>
  <script defer="defer" src="{{STATIC_URL}}bolt/js/bolt.tab.js"></script>
  <script defer="defer" src="{{STATIC_URL}}bolt/js/bolt.slide.js"></script>
  <script defer="defer" src="{{STATIC_URL}}bolt/js/bolt.dialog.js"></script>
  <script defer="defer" src="{{STATIC_URL}}bolt/js/bolt.dropdown.js"></script>
  <script defer="defer" src="{{STATIC_URL}}bolt/js/bolt.input.js"></script>
  <script defer="defer" src="{{STATIC_URL}}bolt/js/bolt.input.placeholder.js"></script>
  {% endcompress %}

  {% render_block "site_js" %}
  {% render_block "js" %}
  {% render_block "js_nocompress" %}
  {% front_edit_scripts editor="redactor" %}

  {% comment %}
  Use google webfont loader to asynchronously load fonts in, otherwise
  they really slow down text rendering on slow connections.
  https://developers.google.com/fonts/docs/webfont_loader
  {% endcomment %}
  <script>
    (function() {
      var wf = document.createElement('script');
      wf.src = ('https:' == document.location.protocol ? 'https' : 'http') +
          '://ajax.googleapis.com/ajax/libs/webfont/1/webfont.js';
      wf.type = 'text/javascript';
      wf.async = 'true';
      var s = document.getElementsByTagName('script')[0];
      s.parentNode.insertBefore(wf, s);
    })();
  </script>

  {% if not DEBUG %}
  <script>
      var _gaq = _gaq || [];
      _gaq.push(['_setAccount', 'UA-34212502-1']);
      _gaq.push(['_trackPageview']);
      (function() {
        var ga = document.createElement('script'); ga.type = 'text/javascript'; ga.async = true;
        ga.src = ('https:' == document.location.protocol ? 'https://ssl' : 'http://www') + '.google-analytics.com/ga.js';
        var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(ga, s);
      })();
  </script>
  {% endif %}
</body>
</html>
